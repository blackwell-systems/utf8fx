//! Tech badge SVG renderer with Simple Icons support

/// Get Simple Icons SVG path for a given icon name
/// Paths sourced from https://simpleicons.org/
fn get_icon_path(name: &str) -> Option<&'static str> {
    match name.to_lowercase().as_str() {
        "rust" => Some("M23.835 11.703l-1.008-.623-.028-.292 .857-.778a.348.348 0 00-.207-.588l-1.163-.218-.097-.283 .682-.91a.348.348 0 00-.322-.554l-1.17.096-.16-.26 .476-1.017a.348.348 0 00-.426-.468l-1.123.403-.215-.224 .251-1.095a.348.348 0 00-.51-.347l-1.025.684-.264-.17 .009-1.123a.348.348 0 00-.574-.278l-.88.923-.296-.1-.235-1.097a.348.348 0 00-.612-.177l-.696 1.102-.32-.025-.465-1.023a.348.348 0 00-.623-.048l-.478 1.236-.328.05-.67-.898a.348.348 0 00-.607.102l-.234 1.32-.32.124-.858-.733a.348.348 0 00-.565.245l.027 1.347-.298.191-1.012-.534a.348.348 0 00-.498.375l.287 1.32-.26.25-1.13-.307a.348.348 0 00-.41.485l.53 1.24-.208.296-1.206-.06a.348.348 0 00-.303.571l.753 1.103-.144.328-1.237.187a.348.348 0 00-.18.627l.942.917-.072.345-1.22.432a.348.348 0 00-.047.65l1.092.691-.003.35-1.156.668a.348.348 0 00.088.638l1.198.424.073.344-.95.882a.348.348 0 00.218.596l1.234.14.144.33-.717 1.063a.348.348 0 00.338.539l1.218-.153.21.298-.458 1.2a.348.348 0 00.443.448l1.15-.446.266.252-.183 1.298a.348.348 0 00.528.343l1.038-.712.31.19.106 1.34a.348.348 0 00.59.225l.884-.95.34.116.39 1.267a.348.348 0 00.626.097l.693-1.15.355.034.656 1.15a.348.348 0 00.635-.039l.474-1.31.355-.05.9 1.001a.348.348 0 00.616-.178l.237-1.36.34-.134 1.107.814a.348.348 0 00.57-.313l-.018-1.378.31-.211 1.273.592a.348.348 0 00.495-.434l-.27-1.34.266-.28 1.39.34a.348.348 0 00.396-.539l-.51-1.25.208-.339 1.452.07a.348.348 0 00.275-.62l-.727-1.109.14-.38 1.46-.208a.348.348 0 00.138-.67l-.916-.922.064-.405 1.413-.478a.348.348 0 00-.007-.69zM12 18.537a6.537 6.537 0 110-13.074 6.537 6.537 0 010 13.074zm5.765-9.132a.537.537 0 00-.481-.298h-2.154l-.67-2.062a.537.537 0 00-1.02 0l-.67 2.062H10.617a.537.537 0 00-.316.97l1.747 1.27-.668 2.056a.537.537 0 00.826.6L14 12.738l1.794 1.304a.537.537 0 00.826-.6l-.668-2.057 1.747-1.27a.537.537 0 00.166-.71z"),
        "typescript" => Some("M1.125 0C.502 0 0 .502 0 1.125v21.75C0 23.498.502 24 1.125 24h21.75c.623 0 1.125-.502 1.125-1.125V1.125C24 .502 23.498 0 22.875 0zm17.363 9.75c.612 0 1.154.037 1.627.111a6.38 6.38 0 011.306.34v2.458a3.95 3.95 0 00-.643-.361 5.093 5.093 0 00-.717-.26 5.453 5.453 0 00-1.426-.2c-.3 0-.573.028-.819.086a2.1 2.1 0 00-.623.242c-.17.104-.3.229-.393.374a.888.888 0 00-.14.49c0 .196.053.373.156.529.104.156.252.304.443.444s.423.276.696.41c.273.135.582.274.926.416.47.197.892.407 1.266.628.374.222.695.473.963.753.268.279.472.598.614.957.142.359.214.776.214 1.253 0 .657-.125 1.21-.373 1.656a3.033 3.033 0 01-1.012 1.085 4.38 4.38 0 01-1.487.596c-.566.12-1.163.18-1.79.18a9.916 9.916 0 01-1.84-.164 5.544 5.544 0 01-1.512-.493v-2.63a5.033 5.033 0 003.237 1.2c.333 0 .624-.03.872-.09.249-.06.456-.144.623-.25.166-.108.29-.234.373-.38a1.023 1.023 0 00-.074-1.089 2.12 2.12 0 00-.537-.5 5.597 5.597 0 00-.807-.444 27.72 27.72 0 00-1.007-.436c-.918-.383-1.602-.852-2.053-1.405-.45-.553-.676-1.222-.676-2.005 0-.614.123-1.141.369-1.582.246-.441.58-.804 1.004-1.089a4.494 4.494 0 011.47-.629 7.536 7.536 0 011.77-.201zm-15.113.188h9.563v2.166H9.506v9.646H6.789v-9.646H3.375z"),
        "javascript" => Some("M0 0h24v24H0V0zm22.034 18.276c-.175-1.095-.888-2.015-3.003-2.873-.736-.345-1.554-.585-1.797-1.14-.091-.33-.105-.51-.046-.705.15-.646.915-.84 1.515-.66.39.12.75.42.976.9 1.034-.676 1.034-.676 1.755-1.125-.27-.42-.404-.601-.586-.78-.63-.705-1.469-1.065-2.834-1.034l-.705.089c-.676.165-1.32.525-1.71 1.005-1.14 1.291-.811 3.541.569 4.471 1.365 1.02 3.361 1.244 3.616 2.205.24 1.17-.87 1.545-1.966 1.41-.811-.18-1.26-.586-1.755-1.336l-1.83 1.051c.21.48.45.689.81 1.109 1.74 1.756 6.09 1.666 6.871-1.004.029-.09.24-.705.074-1.65l.046.067zm-8.983-7.245h-2.248c0 1.938-.009 3.864-.009 5.805 0 1.232.063 2.363-.138 2.711-.33.689-1.18.601-1.566.48-.396-.196-.597-.466-.83-.855-.063-.105-.11-.196-.127-.196l-1.825 1.125c.305.63.75 1.172 1.324 1.517.855.51 2.004.675 3.207.405.783-.226 1.458-.691 1.811-1.411.51-.93.402-2.07.397-3.346.012-2.054 0-4.109 0-6.179l.004-.056z"),
        "python" => Some("M14.25.18l.9.2.73.26.59.3.45.32.34.34.25.34.16.33.1.3.04.26.02.2-.01.13V8.5l-.05.63-.13.55-.21.46-.26.38-.3.31-.33.25-.35.19-.35.14-.33.1-.3.07-.26.04-.21.02H8.77l-.69.05-.59.14-.5.22-.41.27-.33.32-.27.35-.2.36-.15.37-.1.35-.07.32-.04.27-.02.21v3.06H3.17l-.21-.03-.28-.07-.32-.12-.35-.18-.36-.26-.36-.36-.35-.46-.32-.59-.28-.73-.21-.88-.14-1.05-.05-1.23.06-1.22.16-1.04.24-.87.32-.71.36-.57.4-.44.42-.33.42-.24.4-.16.36-.1.32-.05.24-.01h.16l.06.01h8.16v-.83H6.18l-.01-2.75-.02-.37.05-.34.11-.31.17-.28.25-.26.31-.23.38-.2.44-.18.51-.15.58-.12.64-.1.71-.06.77-.04.84-.02 1.27.05zm-6.3 1.98l-.23.33-.08.41.08.41.23.34.33.22.41.09.41-.09.33-.22.23-.34.08-.41-.08-.41-.23-.33-.33-.22-.41-.09-.41.09zm13.09 3.95l.28.06.32.12.35.18.36.27.36.35.35.47.32.59.28.73.21.88.14 1.04.05 1.23-.06 1.23-.16 1.04-.24.86-.32.71-.36.57-.4.45-.42.33-.42.24-.4.16-.36.09-.32.05-.24.02-.16-.01h-8.22v.82h5.84l.01 2.76.02.36-.05.34-.11.31-.17.29-.25.25-.31.24-.38.2-.44.17-.51.15-.58.13-.64.09-.71.07-.77.04-.84.01-1.27-.04-1.07-.14-.9-.2-.73-.25-.59-.3-.45-.33-.34-.34-.25-.34-.16-.33-.1-.3-.04-.25-.02-.2.01-.13v-5.34l.05-.64.13-.54.21-.46.26-.38.3-.32.33-.24.35-.2.35-.14.33-.1.3-.06.26-.04.21-.02.13-.01h5.84l.69-.05.59-.14.5-.21.41-.28.33-.32.27-.35.2-.36.15-.36.1-.35.07-.32.04-.28.02-.21V6.07h2.09l.14.01zm-6.47 14.25l-.23.33-.08.41.08.41.23.33.33.23.41.08.41-.08.33-.23.23-.33.08-.41-.08-.41-.23-.33-.33-.23-.41-.08-.41.08z"),
        "react" => Some("M14.23 12.004a2.236 2.236 0 0 1-2.235 2.236 2.236 2.236 0 0 1-2.236-2.236 2.236 2.236 0 0 1 2.235-2.236 2.236 2.236 0 0 1 2.236 2.236zm2.648-10.69c-1.346 0-3.107.96-4.888 2.622-1.78-1.653-3.542-2.602-4.887-2.602-.41 0-.783.093-1.106.278-1.375.793-1.683 3.264-.973 6.365C1.98 8.917 0 10.42 0 12.004c0 1.59 1.99 3.097 5.043 4.03-.704 3.113-.39 5.588.988 6.38.32.187.69.275 1.102.275 1.345 0 3.107-.96 4.888-2.624 1.78 1.654 3.542 2.603 4.887 2.603.41 0 .783-.09 1.106-.275 1.374-.792 1.683-3.263.973-6.365C22.02 15.096 24 13.59 24 12.004c0-1.59-1.99-3.097-5.043-4.032.704-3.11.39-5.587-.988-6.38-.318-.184-.688-.277-1.092-.278zm-.005 1.09v.006c.225 0 .406.044.558.127.666.382.955 1.835.73 3.704-.054.46-.142.945-.25 1.44-.96-.236-2.006-.417-3.107-.534-.66-.905-1.345-1.727-2.035-2.447 1.592-1.48 3.087-2.292 4.105-2.295zm-9.77.02c1.012 0 2.514.808 4.11 2.28-.686.72-1.37 1.537-2.02 2.442-1.107.117-2.154.298-3.113.538-.112-.49-.195-.964-.254-1.42-.23-1.868.054-3.32.714-3.707.19-.09.4-.127.563-.132zm4.882 3.05c.455.468.91.992 1.36 1.564-.44-.02-.89-.034-1.345-.034-.46 0-.915.01-1.36.034.44-.572.895-1.096 1.345-1.565zM12 8.1c.74 0 1.477.034 2.202.093.406.582.802 1.203 1.183 1.86.372.64.71 1.29 1.018 1.946-.308.655-.646 1.31-1.013 1.95-.38.66-.773 1.288-1.18 1.87-.728.063-1.466.098-2.21.098-.74 0-1.477-.035-2.202-.093-.406-.582-.802-1.204-1.183-1.86-.372-.64-.71-1.29-1.018-1.946.303-.657.646-1.313 1.013-1.954.38-.66.773-1.286 1.18-1.868.728-.064 1.466-.098 2.21-.098zm-3.635.254c-.24.377-.48.763-.704 1.16-.225.39-.435.782-.635 1.174-.265-.656-.49-1.31-.676-1.947.64-.15 1.315-.283 2.015-.386zm7.26 0c.695.103 1.365.23 2.006.387-.18.632-.405 1.282-.66 1.933-.2-.39-.41-.783-.64-1.174-.225-.392-.465-.774-.705-1.146zm3.063.675c.484.15.944.317 1.375.498 1.732.74 2.852 1.708 2.852 2.476-.005.768-1.125 1.74-2.857 2.475-.42.18-.88.342-1.355.493-.28-.958-.646-1.956-1.1-2.98.45-1.017.81-2.01 1.085-2.964zm-13.395.004c.278.96.645 1.957 1.1 2.98-.45 1.017-.812 2.01-1.086 2.964-.484-.15-.944-.318-1.37-.5-1.732-.737-2.852-1.706-2.852-2.474 0-.768 1.12-1.742 2.852-2.476.42-.18.88-.342 1.356-.494zm11.678 4.28c.265.657.49 1.312.676 1.948-.64.157-1.316.29-2.016.39.24-.375.48-.762.705-1.158.225-.39.435-.788.636-1.18zm-9.945.02c.2.392.41.783.64 1.175.23.39.465.772.705 1.143-.695-.102-1.365-.23-2.006-.386.18-.63.406-1.282.66-1.933zM17.92 16.32c.112.493.2.968.254 1.423.23 1.868-.054 3.32-.714 3.708-.147.09-.338.128-.563.128-1.012 0-2.514-.807-4.11-2.28.686-.72 1.37-1.536 2.02-2.44 1.107-.118 2.154-.3 3.113-.54zm-11.83.01c.96.234 2.006.415 3.107.532.66.905 1.345 1.727 2.035 2.446-1.595 1.483-3.092 2.295-4.11 2.295-.22-.005-.406-.05-.553-.132-.666-.38-.955-1.834-.73-3.703.054-.46.142-.944.25-1.438zm4.56.64c.44.02.89.034 1.345.034.46 0 .915-.01 1.36-.034-.44.572-.895 1.095-1.345 1.565-.455-.47-.91-.993-1.36-1.565z"),
        "docker" => Some("M13.983 11.078h2.119a.186.186 0 00.186-.185V9.006a.186.186 0 00-.186-.186h-2.119a.185.185 0 00-.185.185v1.888c0 .102.083.185.185.185m-2.954-5.43h2.118a.186.186 0 00.186-.186V3.574a.186.186 0 00-.186-.185h-2.118a.185.185 0 00-.185.185v1.888c0 .102.082.185.185.186m0 2.716h2.118a.187.187 0 00.186-.186V6.29a.186.186 0 00-.186-.185h-2.118a.185.185 0 00-.185.185v1.887c0 .102.082.185.185.186m-2.93 0h2.12a.186.186 0 00.184-.186V6.29a.185.185 0 00-.185-.185H8.1a.185.185 0 00-.185.185v1.887c0 .102.083.185.185.186m-2.964 0h2.119a.186.186 0 00.185-.186V6.29a.185.185 0 00-.185-.185H5.136a.186.186 0 00-.186.185v1.887c0 .102.084.185.186.186m5.893 2.715h2.118a.186.186 0 00.186-.185V9.006a.186.186 0 00-.186-.186h-2.118a.185.185 0 00-.185.185v1.888c0 .102.082.185.185.185m-2.93 0h2.12a.185.185 0 00.184-.185V9.006a.185.185 0 00-.184-.186h-2.12a.185.185 0 00-.184.185v1.888c0 .102.083.185.185.185m-2.964 0h2.119a.185.185 0 00.185-.185V9.006a.185.185 0 00-.184-.186h-2.12a.186.186 0 00-.186.186v1.887c0 .102.084.185.186.185m-2.92 0h2.12a.185.185 0 00.184-.185V9.006a.185.185 0 00-.184-.186h-2.12a.185.185 0 00-.184.185v1.888c0 .102.082.185.185.185M23.763 9.89c-.065-.051-.672-.51-1.954-.51-.338.001-.676.03-1.01.087-.248-1.7-1.653-2.53-1.716-2.566l-.344-.199-.226.327c-.284.438-.49.922-.612 1.43-.23.97-.09 1.882.403 2.661-.595.332-1.55.413-1.744.42H.751a.751.751 0 00-.75.748 11.376 11.376 0 00.692 4.062c.545 1.428 1.355 2.48 2.41 3.124 1.18.723 3.1 1.137 5.275 1.137.983.003 1.963-.086 2.93-.266a12.248 12.248 0 003.823-1.389c.98-.567 1.86-1.288 2.61-2.136 1.252-1.418 1.998-2.997 2.553-4.4h.221c1.372 0 2.215-.549 2.68-1.009.309-.293.55-.65.707-1.046l.098-.288z"),
        "kubernetes" => Some("M10.204 14.35l.007.01-.999 2.413a5.171 5.171 0 01-2.075-2.597l2.578-.437.004.005a.44.44 0 01.485.606zm-.833-2.129a.44.44 0 00.173-.756l.002-.011L7.585 9.7a5.143 5.143 0 00-.73 3.255l2.514-.725.002-.009zm1.145-1.98a.44.44 0 00.699-.337l.01-.005.15-2.62a5.144 5.144 0 00-3.01 1.442l2.147 1.523.004-.002zm.76 2.75l.723.349.722-.347.18-.78-.5-.623h-.804l-.5.623.179.778zm1.5-2.095a.44.44 0 00.7.336l.008.003 2.134-1.513a5.188 5.188 0 00-2.992-1.442l.148 2.615.002.001zm10.876 5.97l-5.773 7.181a1.6 1.6 0 01-1.248.594H9.261a1.6 1.6 0 01-1.247-.594l-5.773-7.181a1.583 1.583 0 01-.307-1.34L3.823 5.79a1.6 1.6 0 01.947-1.152l7.286-3.05a1.6 1.6 0 011.24 0l7.286 3.05a1.6 1.6 0 01.947 1.151l1.889 10.238c.08.453-.02.921-.307 1.341zm-3.289-6.46a6.066 6.066 0 00-1.321-1.794l-.023-.022a6.074 6.074 0 00-9.382 7.623l.007.01a6.073 6.073 0 004.442 2.834l.01.001a6.08 6.08 0 002.509-.156l.008-.002a6.063 6.063 0 003.757-4.77l.001-.005a6.066 6.066 0 00-.008-3.72zm-3.672 4.89l.002.005a.44.44 0 01-.486.605l-.005.005-2.575-.436a5.198 5.198 0 002.072 2.59l.988-2.418a.441.441 0 01.005-.35zm1.266-1.142l-.003-.006a.44.44 0 01.174.756l.002.003-1.96 1.746a5.17 5.17 0 00.728-3.263l2.514.724.002-.004-.004.004a.44.44 0 01.547.04z"),
        "postgresql" => Some("M23.5594 14.7228a.5269.5269 0 00-.0563-.1191c-.139-.2632-.4768-.3418-1.0074-.2321-1.6533.3411-2.2935.1312-2.5256-.0191 1.342-2.0482 2.445-4.522 3.0411-6.8297.2714-1.0507.7982-3.5237.1222-4.7316a1.5641 1.5641 0 00-.1509-.235C21.6931.9086 19.8007.0248 17.5099.0005c-1.4947-.0158-2.7705.3461-3.1161.4648a9.051 9.051 0 00-.5765-.0317c-1.0029-.0431-1.9445.1126-2.8251.4631-.2448-.0939-.5765-.2159-.9734-.3296-1.8291-.5239-3.4082-.4902-4.6979.1007C3.5592 1.6096 2.2784 3.5592 1.945 6.2046c-.1952 1.5523-.0775 4.0851.4236 6.733.5765 3.0484 1.4196 5.0393 2.5025 5.9151 1.0455.8462 2.4379.3122 3.2461-.5758.4877.2855 1.0999.4525 1.8377.5026.2656.018.5765.0227.8951-.0091.0295.1269.0612.2511.0952.3726.0792.2826.1854.6313.3067.9951-.7956.1075-1.4347.2965-1.9274.5621-1.0777.5813-1.5665 1.4341-1.4196 2.476.1956 1.3879 1.5032 2.149 2.5554 2.149.1733 0 .347-.0182.5765-.0567 2.144-.3602 3.6073-1.4932 4.2584-3.0648.1711-.4128.2862-.8787.3616-1.3884l.1469.0431c1.1515.3418 2.2368.5167 3.2641.5167.7778 0 1.5143-.0975 2.2004-.2914 1.7298-.4891 2.8352-1.4623 3.1087-2.7386.1556-.7257.0197-1.4259-.3875-1.9946zM2.8438 6.4245c.2879-2.3114 1.3588-4.0166 2.8561-4.5469.8527-.3019 2.1494-.3 3.6567.3115.1357.0553.2714.1133.4071.1726a9.1 9.1 0 00-.4188.1421 7.0593 7.0593 0 00-.1606.0591 9.8581 9.8581 0 00-.1469.057l-.0227.0091a14.6912 14.6912 0 00-.1807.0749c-2.4311 1.0395-3.9873 3.5238-4.5095 7.1909-.0726.5091-.1221 1.0293-.1484 1.5535-.2255-.8295-.409-1.7088-.5454-2.5969-.4345-2.8273-.4345-5.0143-.2869-6.3189zm7.053 8.0467c-.0454.1251-.1448.2454-.2646.32l-.3429.247a.3429.3429 0 00-.1352.2105l-.0454.2089c-.0236.1083-.0931.1967-.1923.2441-.0582.0278-.1215.0421-.1858.0421-.1352 0-.2557-.0699-.3225-.1873l-.2-.3532a.3434.3434 0 00-.2118-.1569l-.349-.1067a.3429.3429 0 01-.2009-.1733l-.0227-.0408-.1106-.2198c-.0635-.1251-.0658-.2725-.0068-.3999.059-.1274.1693-.2225.3019-.2612l.3352-.0975a.343.343 0 00.214-.1689l.1579-.3152a.3428.3428 0 01.2891-.1856l.0159-.0014.0272-.0023h.0363a.3442.3442 0 01.2992.1833l.1601.3107c.0499.0971.1393.169.2459.198l.3407.0931a.3434.3434 0 01.2077.4891l-.1352.2738a.3447.3447 0 00-.0318.2441l.0409.2089a.3424.3424 0 01-.0749.2907l-.181.217a.3398.3398 0 01-.2623.1237h-.0068c-.0931 0-.181-.0385-.2459-.1067zm3.2539-8.561c.0749-.4616.1828-.8949.3248-1.2961.1529-.4321.3498-.8363.5855-1.203.1874-.2908.4071-.5606.6528-.8009.0795-.078.1606-.1524.2436-.2237a6.0793 6.0793 0 012.2899-1.3254c.1448-.0499.2896-.0952.4367-.1366-.6291 1.0008-.8488 2.7098-.1357 4.9714.6755 2.1404 1.8518 4.4296 2.7727 6.0038a.4667.4667 0 01-.1156.6019c-.8601.621-3.7802-.4616-5.0574-1.0599l-.3566-.1594-.1492-.068c-1.0908-.5033-1.8746-1.0598-2.1403-1.9411-.2686-.8897.0363-2.0642.6488-4.5029zm4.5141 12.7989c-.5174 1.2172-1.6192 2.0402-3.2095 2.3978-.0476.0102-.0953.0189-.1429.0261-.2805.0431-.5515-.0022-.7707-.1238-.2373-.1316-.4108-.3519-.4839-.6154a1.2236 1.2236 0 01.1161-.8636 3.8605 3.8605 0 011.0981-1.26c.2664-.2215.5765-.4344.9189-.6427a15.8285 15.8285 0 011.5369-.8079c.0249.1419.0476.2852.0681.43.1084.7674.035 1.4918-.1311 2.4595zm6.4064-3.1279c-.1448.6767-.8465 1.2761-1.9787 1.6897-.9712.3547-2.2004.5091-3.5495.4453-.1207-.0057-.2391-.0136-.3566-.0227.0863-.498.1402-1.0212.1539-1.5535.1902-2.5516-.4617-3.8577-1.8973-5.6984-.068-.0872-.1429-.1879-.2214-.2914l-.0113-.015c.1175-.0045.2351.0008.352.0136.3816.0499 1.2815.2323 2.1517.6995a5.8604 5.8604 0 011.7548 1.403c1.1379 1.3513 1.7594 2.8635 1.6024 3.5299z"),
        "go" | "golang" => Some("M1.811 10.231c-.047 0-.058-.023-.035-.059l.246-.315c.023-.035.081-.058.128-.058h4.172c.046 0 .058.035.035.07l-.199.303c-.023.036-.082.07-.117.07zM.047 11.306c-.047 0-.059-.023-.035-.058l.245-.316c.023-.035.082-.058.129-.058h5.328c.047 0 .07.035.058.07l-.093.28c-.012.047-.058.07-.105.07zm2.828 1.075c-.047 0-.059-.035-.035-.07l.163-.292c.023-.035.07-.07.117-.07h2.337c.047 0 .07.035.07.082l-.023.28c0 .047-.047.082-.082.082zm12.129-2.36c-.736.187-1.239.327-1.963.514-.176.046-.187.058-.34-.117-.174-.199-.303-.327-.548-.444-.737-.362-1.45-.257-2.115.175-.795.514-1.204 1.274-1.192 2.22.011.935.654 1.706 1.577 1.835.795.105 1.46-.175 1.987-.771.105-.13.198-.27.315-.434H10.47c-.245 0-.304-.152-.222-.35.152-.362.432-.97.596-1.274a.315.315 0 01.292-.187h4.253c-.023.316-.023.631-.07.947a4.983 4.983 0 01-.958 2.29c-.841 1.11-1.94 1.8-3.33 1.986-1.145.152-2.209-.07-3.143-.77-.865-.655-1.356-1.52-1.484-2.595-.152-1.274.222-2.419.993-3.424.83-1.086 1.928-1.776 3.272-2.02 1.098-.2 2.15-.07 3.096.571.62.41 1.063.97 1.356 1.648.07.105.023.164-.117.2m3.868 6.461c-1.064-.024-2.034-.328-2.852-1.029a3.665 3.665 0 01-1.262-2.255c-.21-1.32.152-2.489.947-3.529.853-1.122 1.881-1.706 3.272-1.95 1.192-.21 2.314-.095 3.33.595.923.63 1.496 1.484 1.648 2.605.198 1.578-.257 2.863-1.344 3.962-.771.783-1.718 1.273-2.805 1.495-.315.06-.63.07-.934.106zm2.78-4.72c-.011-.153-.011-.27-.034-.387-.21-1.157-1.274-1.81-2.384-1.554-1.087.245-1.788.935-2.045 2.033-.21.912.234 1.835 1.075 2.21.643.28 1.285.244 1.905-.07.923-.48 1.425-1.228 1.484-2.233z"),
        "nodejs" | "node.js" => Some("M11.998 24c-.321 0-.641-.084-.922-.247L8.14 22.016c-.438-.245-.224-.332-.08-.383.639-.222.768-.273 1.449-.659.072-.04.166-.025.239.018l2.256 1.339c.082.045.198.045.275 0l8.795-5.076c.082-.047.134-.141.134-.238V6.921c0-.099-.053-.194-.137-.242l-8.791-5.072c-.081-.047-.189-.047-.271 0L3.22 6.68c-.087.049-.14.145-.14.243v10.095c0 .096.053.189.139.236l2.409 1.392c1.307.654 2.108-.116 2.108-.891V7.787c0-.142.114-.253.256-.253h1.115c.139 0 .255.111.255.253v9.968c0 1.745-.951 2.745-2.604 2.745-.508 0-.909 0-2.026-.551L2.28 18.675c-.57-.329-.922-.943-.922-1.604V6.976c0-.66.352-1.273.922-1.602L11.076.297c.558-.319 1.3-.319 1.848 0l8.794 5.077c.57.329.924.942.924 1.602v10.095c0 .66-.354 1.273-.924 1.604l-8.794 5.078c-.28.163-.6.247-.926.247zm2.72-6.969c-3.857 0-4.664-1.772-4.664-3.26 0-.141.113-.253.255-.253h1.137c.127 0 .233.092.253.216.172 1.163.686 1.75 3.019 1.75 1.858 0 2.649-.421 2.649-1.408 0-.569-.225-0.99-3.11-1.275-2.411-.239-3.903-.771-3.903-2.701 0-1.779 1.5-2.839 4.015-2.839 2.823 0 4.222.978 4.398 3.082a.256.256 0 01-.253.28h-1.142a.252.252 0 01-.246-.205c-.273-1.217-.937-1.607-2.757-1.607-2.03 0-2.267.708-2.267 1.237 0 .643.279.831 3.013 1.194 2.709.36 3.997.869 3.997 2.766 0 1.92-1.6 3.023-4.394 3.023z"),
        "vue" | "vuejs" | "vue.js" => Some("M24 1.61h-9.94L12 5.16 9.94 1.61H0l12 20.78ZM12 14.08 5.16 2.23h4.43L12 6.41l2.41-4.18h4.43Z"),
        "svelte" => Some("M21.533 4.809c-2.479-3.506-7.478-4.392-11.138-1.98L4.266 7.012c-1.656 1.093-2.724 2.85-2.9 4.778a5.596 5.596 0 00.959 3.694 5.343 5.343 0 00-1.108 2.223 5.723 5.723 0 001.108 4.882c2.485 3.506 7.484 4.392 11.144 1.98l6.129-4.183c1.656-1.093 2.724-2.85 2.9-4.778a5.596 5.596 0 00-.959-3.694 5.343 5.343 0 001.108-2.223 5.73 5.73 0 00-1.114-4.882zm-10.43 16.017c-2.205.59-4.555-.337-5.671-2.226a3.385 3.385 0 01-.491-2.153 3.072 3.072 0 01.103-.576l.135-.463.417.313c.747.564 1.591.99 2.49 1.258l.237.072-.022.236a1.022 1.022 0 00.202.664c.345.489.968.676 1.516.458a.964.964 0 00.303-.181l6.129-4.183a.946.946 0 00.403-.666.97.97 0 00-.197-.75 1.09 1.09 0 00-1.516-.458.964.964 0 00-.303.181l-2.342 1.591a3.217 3.217 0 01-1.02.609 3.67 3.67 0 01-4.15-1.538 3.385 3.385 0 01-.491-2.153 3.211 3.211 0 011.349-2.247l6.129-4.183a3.217 3.217 0 011.02-.609 3.67 3.67 0 014.15 1.538c.431.61.614 1.357.515 2.093a3.072 3.072 0 01-.103.576l-.135.463-.417-.313a6.976 6.976 0 00-2.49-1.258l-.237-.072.022-.236c.019-.227-.046-.453-.197-.664a1.09 1.09 0 00-1.516-.458.964.964 0 00-.303.181L8.05 12.025a.946.946 0 00-.403.666.97.97 0 00.197.75 1.09 1.09 0 001.516.458.964.964 0 00.303-.181l2.342-1.591a3.217 3.217 0 011.02-.609 3.67 3.67 0 014.15 1.538c.431.61.614 1.357.515 2.093a3.211 3.211 0 01-1.349 2.247l-6.129 4.183a3.217 3.217 0 01-1.02.609c-.21.078-.426.135-.645.169z"),
        "terraform" => Some("M14.7362 8.33269V16.0044L21.4727 12.1219V4.45923L14.7362 8.33269ZM7.26367 4.45923V12.1219L14 16.0044V8.33269L7.26367 4.45923ZM0 0.585938V8.24862L6.73633 12.1221V4.45923L0 0.585938ZM14.7362 17.4559V25.1277L21.4727 21.2361V13.5734L14.7362 17.4559Z"),
        "amazonaws" | "aws" => Some("M6.763 10.036c0 .296.032.535.088.71.064.176.144.368.256.576.04.063.056.127.056.183 0 .08-.048.16-.152.24l-.503.335a.383.383 0 01-.208.072c-.08 0-.16-.04-.239-.112a2.47 2.47 0 01-.287-.375 6.18 6.18 0 01-.248-.471c-.622.734-1.405 1.101-2.347 1.101-.67 0-1.205-.191-1.596-.574-.391-.384-.59-.894-.59-1.533 0-.678.239-1.23.726-1.644.487-.415 1.133-.623 1.955-.623.272 0 .551.024.846.064.296.04.6.104.918.176v-.583c0-.607-.127-1.03-.375-1.277-.255-.248-.686-.367-1.3-.367-.28 0-.568.031-.863.103-.295.072-.583.16-.862.272a2.287 2.287 0 01-.28.104.488.488 0 01-.127.023c-.112 0-.168-.08-.168-.247v-.391c0-.128.016-.224.056-.28a.597.597 0 01.224-.167c.279-.144.614-.264 1.005-.36a4.84 4.84 0 011.246-.151c.95 0 1.644.216 2.091.647.439.43.662 1.085.662 1.963v2.586zm-3.24 1.214c.263 0 .534-.048.822-.144.287-.096.543-.271.758-.51.128-.152.224-.32.272-.512.047-.191.08-.423.08-.694v-.335a6.66 6.66 0 00-.735-.136 6.02 6.02 0 00-.75-.048c-.535 0-.926.104-1.19.32-.263.215-.39.518-.39.917 0 .375.095.655.295.846.191.2.47.296.838.296zm6.41.862c-.144 0-.24-.024-.304-.08-.064-.048-.12-.16-.168-.311L7.586 5.55a1.398 1.398 0 01-.072-.32c0-.128.064-.2.191-.2h.783c.151 0 .255.025.31.08.065.048.113.16.16.312l1.342 5.284 1.245-5.284c.04-.16.088-.264.151-.312a.549.549 0 01.32-.08h.638c.152 0 .256.025.32.08.063.048.12.16.151.312l1.261 5.348 1.381-5.348c.048-.16.104-.264.16-.312a.52.52 0 01.311-.08h.743c.127 0 .2.065.2.2 0 .04-.009.08-.017.128a1.137 1.137 0 01-.056.2l-1.923 6.17c-.048.16-.104.263-.168.311a.51.51 0 01-.303.08h-.687c-.151 0-.255-.024-.32-.08-.063-.056-.119-.16-.15-.32l-1.238-5.148-1.23 5.14c-.04.16-.087.264-.15.32-.065.056-.177.08-.32.08zm10.256.215c-.415 0-.83-.048-1.229-.143-.399-.096-.71-.2-.918-.32-.128-.071-.215-.151-.247-.223a.563.563 0 01-.048-.224v-.407c0-.167.064-.247.183-.247.048 0 .096.008.144.024.048.016.12.048.2.08.271.12.566.215.878.279.319.064.63.096.95.096.502 0 .894-.088 1.165-.264a.86.86 0 00.415-.758.777.777 0 00-.215-.559c-.144-.151-.416-.287-.807-.415l-1.157-.36c-.583-.183-1.014-.454-1.277-.813a1.902 1.902 0 01-.4-1.158c0-.335.073-.63.216-.886.144-.255.335-.479.575-.654.24-.184.51-.32.83-.415.32-.096.655-.136 1.006-.136.175 0 .359.008.535.032.183.024.35.056.518.088.16.04.312.08.455.127.144.048.256.096.336.144a.69.69 0 01.24.2.43.43 0 01.071.263v.375c0 .168-.064.256-.184.256a.83.83 0 01-.303-.096 3.652 3.652 0 00-1.532-.311c-.455 0-.815.071-1.062.223-.248.152-.375.383-.375.71 0 .224.08.416.24.567.159.152.454.304.877.44l1.134.358c.574.184.99.44 1.237.767.247.327.367.702.367 1.117 0 .343-.072.655-.207.926-.144.272-.336.511-.583.703-.248.2-.543.343-.886.447-.36.111-.734.167-1.142.167zM21.698 16.207c-2.626 1.94-6.442 2.969-9.722 2.969-4.598 0-8.74-1.7-11.87-4.526-.247-.223-.024-.527.27-.351 3.384 1.963 7.559 3.153 11.877 3.153 2.914 0 6.114-.607 9.06-1.852.439-.2.814.287.385.607zM22.792 14.961c-.336-.43-2.22-.207-3.074-.103-.255.032-.295-.192-.063-.36 1.5-1.053 3.967-.75 4.254-.399.287.36-.08 2.826-1.485 4.007-.215.184-.423.088-.327-.151.32-.79 1.03-2.57.695-2.994z"),
        "redis" => Some("M23.99 14.365c-.015.327-.323.604-.943.855l-4.012 1.61-5.287 2.243c-.152.066-.36.066-.532.006l-9.55-3.798c-.62-.248-.9-.533-.9-.79V17.1c0 .254.28.54.9.79l9.55 3.797c.171.06.38.06.532-.006l5.287-2.243 4.012-1.61c.62-.25.928-.527.943-.855v-2.608zm0-4.312c-.015.328-.323.605-.943.856l-4.012 1.61-5.287 2.243c-.152.067-.36.067-.532.006l-9.55-3.797c-.62-.248-.9-.534-.9-.79v2.608c0 .254.28.54.9.79l9.55 3.796c.171.06.38.06.532-.006l5.287-2.243 4.012-1.61c.62-.25.928-.527.943-.855V10.053zM.775 8.653l9.55 3.797c.171.06.38.06.532-.006l5.287-2.243 4.012-1.61c1.243-.5 1.183-.962.018-1.388l-9.344-3.36c-.28-.106-.596-.1-.88.007L1.04 7.11C-.264 7.558-.214 8.008.774 8.653z"),
        "mongodb" => Some("M17.193 9.555c-1.264-5.58-4.252-7.414-4.573-8.115-.28-.394-.53-.954-.735-1.44-.036.495-.055.685-.523 1.184-.723.566-4.438 3.682-4.74 10.02-.282 5.912 4.27 9.435 4.888 9.884l.07.05A73.49 73.49 0 0111.91 24h.481c.114-1.032.284-2.056.51-3.07.417-.296.604-.463.85-.693a11.342 11.342 0 003.639-8.464c.01-.814-.103-1.662-.197-2.218zm-5.336 8.195s0-8.291.275-8.29c.213 0 .49 10.695.49 10.695-.381-.045-.765-1.76-.765-2.405z"),
        "github" => Some("M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"),
        "gitlab" => Some("M23.546 10.93L13.067.452a1.55 1.55 0 00-2.134 0L.453 10.93a1.55 1.55 0 000 2.134l10.48 10.48a1.55 1.55 0 002.134 0l10.48-10.48a1.55 1.55 0 000-2.134zM12 20.813L8.187 12H4.5l7.5 8.813zM4.5 12L12 3.187 8.187 12H4.5zm15 0h-3.687L12 3.187 19.5 12zM12 20.813L15.813 12H19.5L12 20.813z"),
        _ => None,
    }
}

/// Render a tech badge with optional label
///
/// Supports two layouts:
/// - Icon only: Just the logo on a colored background
/// - Icon + label: Logo on left segment, text on right segment
pub fn render_with_label(
    name: &str,
    label: Option<&str>,
    bg_color: &str,
    logo_color: &str,
    style: &str,
) -> String {
    let metrics = super::swatch::SvgMetrics::from_style(style);
    let icon_path = get_icon_path(name);

    match (icon_path, label) {
        // Icon + Label: Two-segment badge
        (Some(path), Some(label_text)) => {
            render_two_segment(path, label_text, bg_color, logo_color, &metrics)
        }
        // Icon only: Single segment with centered icon
        (Some(path), None) => {
            render_icon_only(path, bg_color, logo_color, &metrics)
        }
        // No icon found: Fallback to text
        (None, Some(label_text)) => {
            render_text_only(name, Some(label_text), bg_color, &metrics)
        }
        (None, None) => {
            render_text_only(name, None, bg_color, &metrics)
        }
    }
}

/// Render two-segment badge: icon left, label right
fn render_two_segment(
    icon_path: &str,
    label: &str,
    bg_color: &str,
    logo_color: &str,
    metrics: &super::swatch::SvgMetrics,
) -> String {
    let height = metrics.height;
    let icon_width: u32 = 36;
    let label_width = estimate_text_width(label) + 16;
    let total_width = icon_width + label_width;
    let icon_size: u32 = 14;
    let icon_x = (icon_width as f32 - icon_size as f32) / 2.0;
    let icon_y = (height as f32 - icon_size as f32) / 2.0;
    let font_size = if height > 24 { 11 } else { 10 };
    let text_x = icon_width + label_width / 2;
    let text_y = height / 2 + font_size / 3;

    // Darker shade for right segment
    let right_bg = darken_color(bg_color, 0.15);
    let scale = icon_size as f32 / 24.0;

    format!(
        "<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"{}\" height=\"{}\" viewBox=\"0 0 {} {}\">\n\
  <rect width=\"{}\" height=\"{}\" fill=\"#{}\" rx=\"{}\"/>\n\
  <rect x=\"{}\" width=\"{}\" height=\"{}\" fill=\"#{}\" rx=\"0\"/>\n\
  <rect x=\"{}\" width=\"{}\" height=\"{}\" fill=\"#{}\" rx=\"{}\"/>\n\
  <g transform=\"translate({}, {}) scale({})\">\n\
    <path fill=\"#{}\" d=\"{}\"/>\n\
  </g>\n\
  <text x=\"{}\" y=\"{}\" text-anchor=\"middle\" fill=\"white\" font-family=\"Verdana,Arial,sans-serif\" font-size=\"{}\" font-weight=\"600\">{}</text>\n\
</svg>",
        total_width, height, total_width, height,
        total_width, height, bg_color, metrics.rx,
        icon_width, label_width, height, right_bg,
        total_width - metrics.rx, metrics.rx, height, right_bg, metrics.rx,
        icon_x, icon_y, scale,
        logo_color, icon_path,
        text_x, text_y, font_size, label
    )
}

/// Render icon-only badge
fn render_icon_only(
    icon_path: &str,
    bg_color: &str,
    logo_color: &str,
    metrics: &super::swatch::SvgMetrics,
) -> String {
    let height = metrics.height;
    let width: u32 = 40;
    let icon_size: u32 = 16;
    let icon_x = (width as f32 - icon_size as f32) / 2.0;
    let icon_y = (height as f32 - icon_size as f32) / 2.0;
    let scale = icon_size as f32 / 24.0;

    format!(
        "<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"{}\" height=\"{}\" viewBox=\"0 0 {} {}\">\n\
  <rect width=\"{}\" height=\"{}\" fill=\"#{}\" rx=\"{}\"/>\n\
  <g transform=\"translate({}, {}) scale({})\">\n\
    <path fill=\"#{}\" d=\"{}\"/>\n\
  </g>\n\
</svg>",
        width, height, width, height,
        width, height, bg_color, metrics.rx,
        icon_x, icon_y, scale,
        logo_color, icon_path
    )
}

/// Render text-only fallback badge
fn render_text_only(
    name: &str,
    label: Option<&str>,
    bg_color: &str,
    metrics: &super::swatch::SvgMetrics,
) -> String {
    let height = metrics.height;
    let display_text = label.unwrap_or(name);
    let width = estimate_text_width(display_text) + 20;
    let font_size = if height > 24 { 12 } else { 11 };
    let text_y = height / 2 + font_size / 3;

    format!(
        "<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"{}\" height=\"{}\" viewBox=\"0 0 {} {}\">\n\
  <rect width=\"{}\" height=\"{}\" fill=\"#{}\" rx=\"{}\"/>\n\
  <text x=\"{}\" y=\"{}\" text-anchor=\"middle\" fill=\"white\" font-family=\"Verdana,Arial,sans-serif\" font-size=\"{}\" font-weight=\"600\">{}</text>\n\
</svg>",
        width, height, width, height,
        width, height, bg_color, metrics.rx,
        width / 2, text_y, font_size, display_text.to_uppercase()
    )
}

/// Estimate text width based on character count
fn estimate_text_width(text: &str) -> u32 {
    // Approximate 7px per character for Verdana 11px
    (text.len() as u32 * 7).max(20)
}

/// Darken a hex color by a percentage
fn darken_color(hex: &str, amount: f32) -> String {
    let hex = hex.trim_start_matches('#');

    let r = u8::from_str_radix(&hex[0..2], 16).unwrap_or(0);
    let g = u8::from_str_radix(&hex[2..4], 16).unwrap_or(0);
    let b = u8::from_str_radix(&hex[4..6], 16).unwrap_or(0);

    let darken = |c: u8| -> u8 {
        ((c as f32) * (1.0 - amount)).round() as u8
    };

    format!("{:02X}{:02X}{:02X}", darken(r), darken(g), darken(b))
}
